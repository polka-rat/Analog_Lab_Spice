Version 4.1
SHEET 1 2004 2168
WIRE -496 -608 -1040 -608
WIRE 1392 -560 1392 -608
WIRE 1456 -560 1392 -560
WIRE 1568 -560 1520 -560
WIRE -496 -528 -496 -608
WIRE -496 -528 -544 -528
WIRE -832 -496 -912 -496
WIRE -736 -496 -768 -496
WIRE 1568 -496 1568 -560
WIRE 1568 -496 1552 -496
WIRE 1632 -496 1568 -496
WIRE -336 -480 -560 -480
WIRE -320 -480 -336 -480
WIRE 1392 -480 1392 -560
WIRE 1488 -480 1392 -480
WIRE -1040 -432 -1040 -608
WIRE -1008 -432 -1040 -432
WIRE -912 -432 -912 -496
WIRE -912 -432 -928 -432
WIRE -880 -432 -912 -432
WIRE -560 -432 -560 -480
WIRE -736 -416 -736 -496
WIRE -736 -416 -816 -416
WIRE -624 -416 -624 -528
WIRE -624 -416 -656 -416
WIRE -592 -416 -624 -416
WIRE -496 -400 -496 -528
WIRE -496 -400 -528 -400
WIRE -432 -400 -496 -400
WIRE -336 -400 -336 -480
WIRE -336 -400 -352 -400
WIRE 416 -272 -80 -272
WIRE 128 -192 80 -192
WIRE -80 -176 -80 -272
WIRE -32 -176 -80 -176
WIRE -736 -160 -736 -416
WIRE -624 -160 -736 -160
WIRE -448 -144 -560 -144
WIRE -336 -144 -448 -144
WIRE -64 -144 -336 -144
WIRE -32 -144 -64 -144
WIRE 128 -80 128 -192
WIRE 144 -80 128 -80
WIRE 416 -80 416 -272
WIRE 560 -80 416 -80
WIRE 848 -80 816 -80
WIRE 960 -80 960 -144
WIRE 960 -80 848 -80
WIRE -448 -32 -448 -64
WIRE -64 -32 -64 -144
WIRE 1008 -32 1008 -64
WIRE 1088 -32 1008 -32
WIRE 1216 -32 1168 -32
WIRE 1600 -32 1216 -32
WIRE 1680 -32 1664 -32
WIRE 1712 -32 1712 -496
WIRE 1712 -32 1680 -32
WIRE 1728 -32 1712 -32
WIRE 1008 -16 1008 -32
WIRE 1216 0 1216 -32
WIRE 560 16 416 16
WIRE 832 16 816 16
WIRE 144 48 128 48
WIRE 272 48 256 48
WIRE 832 64 832 16
WIRE 848 64 832 64
WIRE 960 64 848 64
WIRE 192 176 -48 176
WIRE 416 176 416 16
WIRE 416 176 304 176
WIRE 128 224 128 48
WIRE 128 224 80 224
WIRE -48 240 -48 176
WIRE -32 240 -48 240
WIRE -64 272 -64 80
WIRE -32 272 -64 272
WIRE 48 736 -16 736
WIRE 240 736 48 736
WIRE 512 736 240 736
WIRE 1040 736 624 736
WIRE 192 784 112 784
WIRE -16 800 -16 736
WIRE 0 800 -16 800
WIRE -608 816 -1216 816
WIRE -320 832 -544 832
WIRE -160 832 -320 832
WIRE 0 832 -160 832
WIRE -1424 848 -1504 848
WIRE -1296 848 -1344 848
WIRE -608 848 -640 848
WIRE -320 848 -320 832
WIRE 1184 864 1184 784
WIRE 1504 864 1184 864
WIRE -160 912 -160 832
WIRE -1824 976 -1952 976
WIRE -1680 976 -1760 976
WIRE -1648 976 -1680 976
WIRE -1504 976 -1504 848
WIRE -1504 976 -1568 976
WIRE -1456 976 -1504 976
WIRE -1296 992 -1296 848
WIRE -1296 992 -1392 992
WIRE -1216 992 -1216 816
WIRE -1216 992 -1296 992
WIRE -1952 1024 -1952 976
WIRE 1184 1024 1184 864
WIRE 192 1072 192 784
WIRE 192 1072 -16 1072
WIRE 336 1072 336 1040
WIRE 336 1072 192 1072
WIRE 512 1072 336 1072
WIRE 784 1072 624 1072
WIRE 1040 1072 896 1072
WIRE 1504 1072 1504 864
WIRE 1664 1072 1504 1072
WIRE 1872 1072 1744 1072
WIRE 240 1168 240 736
WIRE 240 1168 112 1168
WIRE 1872 1168 1872 1072
WIRE -16 1184 -16 1072
WIRE 0 1184 -16 1184
WIRE -160 1216 -160 1024
WIRE 0 1216 -160 1216
WIRE 1664 1376 1504 1376
WIRE 1872 1376 1872 1248
WIRE 1872 1376 1744 1376
WIRE 32 1552 -32 1552
WIRE 224 1552 32 1552
WIRE 496 1552 224 1552
WIRE 1040 1552 608 1552
WIRE 176 1600 96 1600
WIRE -32 1616 -32 1552
WIRE -16 1616 -32 1616
WIRE -1680 1632 -1680 976
WIRE -544 1632 -1680 1632
WIRE -288 1648 -480 1648
WIRE -176 1648 -288 1648
WIRE -16 1648 -176 1648
WIRE -640 1664 -640 848
WIRE -544 1664 -640 1664
WIRE -288 1696 -288 1648
WIRE -176 1728 -176 1648
WIRE 1184 1728 1184 1600
WIRE 1504 1728 1504 1376
WIRE 1504 1728 1184 1728
WIRE -640 1776 -640 1664
WIRE 1184 1840 1184 1728
WIRE 176 1888 176 1600
WIRE 176 1888 -32 1888
WIRE 320 1888 320 1856
WIRE 320 1888 176 1888
WIRE 496 1888 320 1888
WIRE 736 1888 608 1888
WIRE 1040 1888 848 1888
WIRE 224 1984 224 1552
WIRE 224 1984 96 1984
WIRE -32 2000 -32 1888
WIRE -16 2000 -32 2000
WIRE -176 2032 -176 1840
WIRE -16 2032 -176 2032
FLAG -1584 -352 0
FLAG -1584 -432 Vcm
IOPIN -1584 -432 Out
FLAG -1472 -352 0
FLAG -1472 -432 Vref
IOPIN -1472 -432 Out
FLAG -96 32 0
FLAG 256 208 0
FLAG 80 288 0
FLAG 80 -128 0
FLAG -32 32 Vdd
IOPIN -32 32 In
FLAG 80 -160 Vdd
IOPIN 80 -160 In
FLAG 80 256 Vdd
IOPIN 80 256 In
FLAG 256 144 Vdd
IOPIN 256 144 In
FLAG 64 48 0
FLAG 64 -80 0
FLAG 192 80 0
FLAG 320 80 0
FLAG 192 -48 0
FLAG 192 -112 Vdd
IOPIN 192 -112 In
FLAG 192 16 Vdd
IOPIN 192 16 In
FLAG 320 16 Vdd
IOPIN 320 16 In
FLAG 256 -80 Vgate_n
IOPIN 256 -80 In
FLAG 384 48 Vgate_p
IOPIN 384 48 In
FLAG 624 96 0
FLAG 752 96 0
FLAG 624 -160 Vdd
IOPIN 624 -160 In
FLAG 752 -160 Vdd
IOPIN 752 -160 In
FLAG 1008 80 0
FLAG 848 -80 Vgate_p
IOPIN 848 -80 Out
FLAG 848 64 Vgate_n
IOPIN 848 64 Out
FLAG 1216 64 0
FLAG -1360 -352 0
FLAG -1360 -432 Vdd
IOPIN -1360 -432 Out
FLAG -320 -480 Vdd
IOPIN -320 -480 In
FLAG -848 -384 Vdd
IOPIN -848 -384 In
FLAG -560 -368 0
FLAG -848 -448 0
FLAG -880 -400 Vcm
IOPIN -880 -400 In
FLAG -592 -384 Vcm
IOPIN -592 -384 In
FLAG -592 -176 0
FLAG -592 -112 Vdd
IOPIN -592 -112 Out
FLAG -624 -128 Vctrl
IOPIN -624 -128 In
FLAG -448 -32 Vdd
IOPIN -448 -32 Out
FLAG -336 -144 Vpwm
IOPIN -336 -144 Out
FLAG 1008 -160 Vdd
IOPIN 1008 -160 In
FLAG 1808 -32 0
FLAG 1216 -32 Vout
IOPIN 1216 -32 Out
FLAG 1680 -32 Vfb
FLAG 1552 -464 Vref
IOPIN 1552 -464 In
FLAG 1392 -608 Vctrl
IOPIN 1392 -608 Out
FLAG 1520 -448 Vdd
IOPIN 1520 -448 In
FLAG 1520 -512 0
FLAG -736 -160 Vramp
IOPIN -736 -160 Out
FLAG -576 864 0
FLAG -512 1680 0
FLAG -640 1776 Vramp
IOPIN -640 1776 In
FLAG -1424 960 0
FLAG -1952 1104 0
FLAG -1424 1024 Vdd
IOPIN -1424 1024 In
FLAG -1456 1008 Vcm
IOPIN -1456 1008 In
FLAG -320 928 Vdd
IOPIN -320 928 In
FLAG -288 1776 Vdd
IOPIN -288 1776 In
FLAG -512 1616 Vdd
IOPIN -512 1616 In
FLAG -576 800 Vdd
IOPIN -576 800 In
FLAG 112 848 0
FLAG 112 816 Vdd
IOPIN 112 816 In
FLAG 112 1232 0
FLAG 112 1200 Vdd
IOPIN 112 1200 In
FLAG 48 672 0
FLAG 336 976 0
FLAG -192 976 0
FLAG -128 976 Vdd
IOPIN -128 976 In
FLAG 96 1664 0
FLAG 96 1632 Vdd
IOPIN 96 1632 In
FLAG 96 2048 0
FLAG 96 2016 Vdd
IOPIN 96 2016 In
FLAG 32 1488 0
FLAG 320 1792 0
FLAG -208 1792 0
FLAG -144 1792 Vdd
IOPIN -144 1792 In
FLAG 576 768 0
FLAG 576 704 Vdd
IOPIN 576 704 In
FLAG 576 1104 0
FLAG 576 1040 Vdd
IOPIN 576 1040 In
FLAG 848 1104 0
FLAG 848 1040 Vdd
IOPIN 848 1040 In
FLAG 560 1920 0
FLAG 560 1856 Vdd
IOPIN 560 1856 In
FLAG 800 1920 0
FLAG 800 1856 Vdd
IOPIN 800 1856 In
FLAG 560 1584 0
FLAG 560 1520 Vdd
IOPIN 560 1520 In
FLAG 1184 1120 0
FLAG 1184 1936 0
FLAG 1184 688 Vdd
IOPIN 1184 688 In
FLAG 1184 1504 Vdd
IOPIN 1184 1504 In
SYMBOL PowerProducts\\LTC1693-1 688 -32 R0
SYMATTR InstName GATE_DRIVER1
SYMBOL nmos 960 -16 R0
SYMATTR InstName M1
SYMATTR Value NTMFS5C646NL
SYMBOL pmos 960 -64 M180
SYMATTR InstName M2
SYMATTR Value Si4427DY
SYMBOL voltage -1584 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 2.5
SYMBOL voltage -1472 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 250m
SYMBOL SN74AHC00 16 -160 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND1
SYMBOL CD4069UB -64 16 R90
SYMATTR InstName NOT1
SYMBOL SN74AHC00 16 256 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND2
SYMBOL CD4069UB 240 176 R0
WINDOW 0 64 -52 Bottom 0
WINDOW 3 64 55 Top 0
SYMATTR InstName NOT2
SYMBOL cap 128 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CN1
SYMATTR Value 1n
SYMBOL cap 128 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CP1
SYMATTR Value 1n
SYMBOL CD4069UB 208 48 M0
WINDOW 0 64 -52 Bottom 0
WINDOW 3 64 55 Top 0
SYMATTR InstName NOT3
SYMBOL CD4069UB 208 -80 M0
WINDOW 0 64 -52 Bottom 0
WINDOW 3 64 55 Top 0
SYMATTR InstName NOT4
SYMBOL CD4069UB 336 48 M0
WINDOW 0 64 -52 Bottom 0
WINDOW 3 64 55 Top 0
SYMATTR InstName NOT5
SYMBOL ind 1184 -48 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL cap 1200 0 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL res -752 -432 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -768 -512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res -912 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1.25k
SYMBOL res -528 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5k
SYMBOL voltage -1360 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDD1
SYMATTR Value 5
SYMBOL MCP6001 -848 -416 M180
SYMATTR InstName OPA1
SYMBOL LM339 -528 -400 R0
SYMATTR InstName CMP1
SYMBOL res -336 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rpullup1
SYMATTR Value 50
SYMBOL LM339 -560 -144 M180
SYMATTR InstName CMP2
SYMBOL res -464 -160 R0
SYMATTR InstName Rpullup2
SYMATTR Value 550
SYMBOL LED 1600 -16 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value L128-FRD1003500000
SYMBOL res 1712 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSense1
SYMATTR Value 5
SYMBOL res 1728 -512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 50k
SYMBOL MCP6001 1520 -480 R180
SYMATTR InstName OPA2
SYMBOL cap 1520 -576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 25n
SYMBOL LM339 -544 832 R0
SYMATTR InstName CM1
SYMBOL LM339 -480 1648 R0
SYMATTR InstName CM2
SYMBOL MCP6001 -1424 992 M180
SYMATTR InstName U1
SYMBOL res -1328 832 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -1552 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap -1760 960 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL voltage -1952 1008 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 0.5 1k)
SYMBOL res -272 1792 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 550
SYMBOL res -304 944 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 550
SYMBOL CD4069UB -160 960 R90
SYMATTR InstName U2
SYMBOL SN74AHC00 48 816 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND3
SYMBOL SN74AHC00 48 1200 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND4
SYMBOL cap 64 736 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName CN2
SYMATTR Value 1n
SYMBOL cap 352 1040 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName CN3
SYMATTR Value 1n
SYMBOL CD4069UB -176 1776 R90
SYMATTR InstName U3
SYMBOL SN74AHC00 32 1632 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND5
SYMBOL SN74AHC00 32 2016 R0
WINDOW 0 8 -56 Bottom 0
WINDOW 3 8 56 Top 0
SYMATTR InstName NAND6
SYMBOL cap 48 1552 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName CN4
SYMATTR Value 1n
SYMBOL cap 336 1856 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName CN5
SYMATTR Value 1n
SYMBOL CD4069UB 560 736 R0
SYMATTR InstName U4
SYMBOL CD4069UB 560 1072 R0
SYMATTR InstName U5
SYMBOL CD4069UB 832 1072 R0
SYMATTR InstName U6
SYMBOL CD4069UB 544 1888 R0
SYMATTR InstName U7
SYMBOL CD4069UB 784 1888 R0
SYMATTR InstName U8
SYMBOL CD4069UB 544 1552 R0
SYMATTR InstName U9
SYMBOL res 1136 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 2k
SYMBOL res 1136 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 2k
SYMBOL res 1136 1536 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 2k
SYMBOL res 1136 1872 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 2k
SYMBOL res 1760 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 1760 1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL ind 1856 1152 R0
SYMATTR InstName L2
SYMATTR Value 500µ
SYMBOL pnp 1120 784 M180
SYMATTR InstName Q1
SYMATTR Value 2N2907
SYMBOL pnp 1120 1600 M180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL npn 1120 1024 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL npn 1120 1840 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
TEXT -1616 -264 Left 2 !.tran 0 30ms 0 10us startup
TEXT -736 96 Left 2 ;PWM Modulator
TEXT 584 392 Left 2 ;Power Stage
TEXT 1480 -696 Left 2 ;Type 1 Compensator
TEXT -1816 696 Left 2 ;SINGLE ENDED DIFFERENTIAL CONVERTER
TEXT -96 616 Left 2 ;NON OVERLAP CLOCK GENERATOR
TEXT -88 2112 Left 2 ;NON OVERLAP CLOCK GENERATOR
TEXT 1720 1456 Left 2 ;SPEAKER
TEXT -616 928 Left 2 ;V-PWM_p
TEXT -528 1736 Left 2 ;V-PWM-n
TEXT 744 624 Left 2 ;HALF BRIDGE DRIVER
TEXT 760 1472 Left 2 ;HALF BRIDGE DRIVER
TEXT 1656 80 Left 2 ;LED
RECTANGLE Normal -208 64 -1072 -640 2
RECTANGLE Normal 1312 352 -128 -304 2
RECTANGLE Normal 400 1312 -240 576 2
RECTANGLE Normal 400 2128 -224 1456 2
RECTANGLE Normal -1248 1088 -1904 736 2
RECTANGLE Normal 2000 1504 1552 944 2
RECTANGLE Normal 1328 1184 480 576 2
RECTANGLE Normal 1360 2000 464 1440 2
RECTANGLE Normal 1776 -352 1280 -736 2
RECTANGLE Normal 1872 48 1456 -144 2
